# Квест IX. Map

## Название файла (go)

```
map.go
```

---

## Что нужно сделать — Instruction

### Оригинал инструкции

Write a function `Map` that, for an int slice, applies a function of this type `func(int) bool` on each element of that slice and returns a slice of all the return values.

### Перевод

Написать функцию `Map`, которая принимает:

* функцию `f`, принимающую `int` и возвращающую `bool`;
* срез `[]int`;

и возвращает новый срез `[]bool`, где каждый элемент — это результат применения функции `f` к соответствующему элементу исходного среза.

---

## Нам нужно написать функцию

Функция должна перебрать все элементы исходного среза и вызвать переданную функцию для каждого из них. Результаты вызова должны собираться в новый срез и возвращаться.

Пример использования:

```go
results := Map(func(x int) bool {
    return x%2 == 0
}, []int{1, 2, 3, 4})

// results будет: []bool{false, true, false, true}
```

---

## Решение

```go
package piscine

// Map применяет функцию transform к каждому элементу среза numbers
// и возвращает новый срез с результатами.
func Map(transform func(int) bool, numbers []int) []bool {
	var results []bool          // создаём пустой срез для результатов
	for _, value := range numbers { // перебираем все элементы входного среза
		results = append(results, transform(value)) // добавляем результат в новый срез
	}
	return results // возвращаем срез с результатами
}
```

---

## Разбор решения

### Инструмент / элемент кода | Объяснение и назначение

| Элемент                                                      | Объяснение                                                                                                                                             |
| ------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **package piscine**                                          | Указывает, что файл принадлежит пакету `piscine`.                                                                                                      |
| **func Map(transform func(int) bool, numbers []int) []bool** | Объявление функции. `transform` — функция, которая берёт `int` и возвращает `bool`. `numbers` — исходный срез чисел. Функция возвращает срез `[]bool`. |
| **var results []bool**                                       | Создаём пустой срез для хранения результатов применения функции к каждому элементу.                                                                    |
| **for _, value := range numbers**                            | Перебираем все элементы исходного среза. `_` — индекс (не нужен), `value` — значение текущего элемента.                                                |
| **results = append(results, transform(value))**              | Применяем функцию `transform` к текущему элементу и добавляем результат в срез `results`.                                                              |
| **return results**                                           | Возвращаем готовый срез с результатами.                                                                                                                |
| **Фигурные скобки**                                          | Определяют начало и конец тела функции и цикла.                                                                                                        |

---

## ИТОГИ

### 1. Объявление функции

```go
func Map(transform func(int) bool, numbers []int) []bool
```

Мы объявляем функцию, которая:

* принимает функцию `transform`, преобразующую `int` в `bool`;
* принимает срез чисел `numbers`;
* возвращает новый срез `[]bool` с результатами применения функции.

---

### 2. Перебор элементов среза

```go
for _, value := range numbers {
```

Используем `range`, чтобы пройти по всем элементам среза.

* `_` — индекс, нам не нужен.
* `value` — текущее число.

---

### 3. Применение функции к каждому элементу и формирование нового среза

```go
results = append(results, transform(value))
```

Каждое вычисленное значение добавляется в новый срез. Таким образом, мы формируем итоговый результат.

---

## Учебный материал

### Глоссарий

| Термин                | Объяснение                                                                              |
| --------------------- | --------------------------------------------------------------------------------------- |
| **Функция**           | Завершённый фрагмент программы, выполняющий действие.                                   |
| **Параметры**         | Данные, которые передаются функции.                                                     |
| **Аргументы**         | Конкретные значения, переданные при вызове функции.                                     |
| **Тип данных**        | Определяет, какие значения может хранить переменная (`int`, `bool`, `[]int`, `[]bool`). |
| **Срез (slice)**      | Изменяемая коллекция элементов.                                                         |
| **Цикл for...range**  | Перебирает элементы коллекций (срезов, массивов, карт и т.д.).                          |
| **Итерация**          | Один шаг цикла.                                                                         |
| **Анонимная функция** | Функция без имени, которую можно передать как значение: `func(x int) bool { ... }`.     |
| **append**            | Добавляет элемент в конец среза, возвращая новый срез.                                  |
| **return**            | Завершает функцию и возвращает значение.                                                |
| **Пакет (package)**   | Набор файлов и функций, объединённых по смыслу.                                         |

---

## Заключение

Функция `Map` — это мощный инструмент функционального программирования в Go. Она позволяет преобразовывать данные с помощью переданной функции и сразу получать новый срез с результатами. Это упрощает работу с коллекциями и делает код более читаемым и выразительным.