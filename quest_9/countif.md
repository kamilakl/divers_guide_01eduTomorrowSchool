# Квест IX. CountIf

## Название файла (go)

```
countif.go
```

---

## Что нужно сделать — Instruction

### Оригинал инструкции

Write a function `CountIf` that returns the number of elements of a string slice, for which the `f` function returns `true`.

### Перевод

Написать функцию `CountIf`, которая принимает:

* функцию `f`, принимающую `string` и возвращающую `bool`;
* срез `[]string`.

Функция должна вернуть количество элементов среза, для которых функция `f` возвращает `true`.

Пример использования:

```go
count := CountIf(func(s string) bool {
    return len(s) > 3
}, []string{"hi", "hello", "go"})

// count будет: 1, так как только "hello" имеет длину больше 3
```

---

## Решение

```go
package piscine

// CountIf возвращает количество элементов среза tab,
// для которых функция predicate возвращает true.
func CountIf(predicate func(string) bool, tab []string) int {
	counter := 0                // счётчик элементов, подходящих под условие
	for _, value := range tab { // перебираем все элементы среза
		if predicate(value) {   // проверяем условие через функцию
			counter++           // увеличиваем счётчик, если элемент подходит
		}
	}
	return counter              // возвращаем итоговое количество
}
```

---

## Разбор решения

### Инструмент / элемент кода | Объяснение и назначение

| Элемент                                                         | Объяснение                                                                                                     |
| --------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| **package piscine**                                             | Указывает, что файл принадлежит пакету `piscine`.                                                              |
| **func CountIf(predicate func(string) bool, tab []string) int** | Объявление функции. `predicate` — функция для проверки элемента. `tab` — срез строк. Функция возвращает `int`. |
| **counter := 0**                                                | Создаём переменную-счётчик для подсчёта элементов, удовлетворяющих условию.                                    |
| **for _, value := range tab**                                   | Перебираем все элементы среза `tab`. `_` — индекс (не нужен), `value` — текущий элемент.                       |
| **if predicate(value) { counter++ }**                           | Если элемент удовлетворяет условию, увеличиваем счётчик на 1.                                                  |
| **return counter**                                              | Возвращаем итоговое количество подходящих элементов.                                                           |
| **Фигурные скобки**                                             | Определяют начало и конец тела функции и цикла.                                                                |

---

## ИТОГИ

### 1. Объявление функции

```go
func CountIf(predicate func(string) bool, tab []string) int
```

Функция принимает:

* функцию `predicate`, проверяющую условие на каждом элементе;
* срез строк `tab`;

и возвращает количество элементов, удовлетворяющих условию.

---

### 2. Перебор элементов среза

```go
for _, value := range tab {
```

Используем `range` для перебора всех элементов среза:

* `_` — индекс, нам не нужен.
* `value` — текущий элемент.

---

### 3. Проверка условия и подсчёт

```go
if predicate(value) { counter++ }
```

* Если элемент подходит — увеличиваем счётчик.
* После цикла возвращаем итоговое значение.

---

## Учебный материал

### Глоссарий

| Термин                | Объяснение                                                                                 |
| --------------------- | ------------------------------------------------------------------------------------------ |
| **Функция**           | Завершённый фрагмент программы, выполняющий действие.                                      |
| **Параметры**         | Данные, которые передаются функции.                                                        |
| **Аргументы**         | Конкретные значения, переданные при вызове функции.                                        |
| **Тип данных**        | Определяет, какие значения может хранить переменная (`string`, `bool`, `int`, `[]string`). |
| **Срез (slice)**      | Изменяемая коллекция элементов.                                                            |
| **Цикл for...range**  | Перебирает элементы коллекций (срезов, массивов, карт и т.д.).                             |
| **Итерация**          | Один шаг цикла.                                                                            |
| **Анонимная функция** | Функция без имени, которую можно передать как значение: `func(s string) bool { ... }`.     |
| **return**            | Завершает функцию и возвращает значение.                                                   |
| **Пакет (package)**   | Набор файлов и функций, объединённых по смыслу.                                            |

---

## Заключение

Функция `CountIf` позволяет подсчитывать количество элементов, удовлетворяющих заданному условию. Она полезна для фильтрации данных и написания чистого и понятного кода, когда нужно получить не сами элементы, а их количество.