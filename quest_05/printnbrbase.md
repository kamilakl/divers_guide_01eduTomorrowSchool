# Quest 5. Print Number in Base

## –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ Go
`printnbrbase.go`

---

## –£—Å–ª–æ–≤–∏—è –∑–∞–¥–∞–Ω–∏—è

| Instruction | –ü–µ—Ä–µ–≤–æ–¥ |
|------------|---------|
| Write a function that prints an int in a string base passed as parameters. If the base is not valid, the function prints NV. | –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—á–∞—Ç–∞–µ—Ç —á–∏—Å–ª–æ –≤ —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è, –∑–∞–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π. –ï—Å–ª–∏ –±–∞–∑–∞ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ ‚Äî –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å `NV`. |

---

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

–¢—ã –¥–∞—ë—à—å —Ñ—É–Ω–∫—Ü–∏–∏:
- **—á–∏—Å–ª–æ**, –Ω–∞–ø—Ä–∏–º–µ—Ä `255`
- **—Å—Ç—Ä–æ–∫—É-–±–∞–∑—É**, –Ω–∞–ø—Ä–∏–º–µ—Ä `"01"` (–¥–≤–æ–∏—á–Ω–∞—è), `"0123456789ABCDEF"` (hex), `"ponigu"` (–∫–∞—Å—Ç–æ–º–Ω–∞—è –±–∞–∑–∞)

–ê —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±–∞–∑–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è  
2. –ï—Å–ª–∏ –±–∞–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è ‚Äî –≤—ã–≤–µ—Å—Ç–∏ **NV**
3. –ï—Å–ª–∏ –≤ –±–∞–∑–µ –≤—Å—ë —Ö–æ—Ä–æ—à–æ ‚Äî –≤—ã–≤–µ—Å—Ç–∏ —á–∏—Å–ª–æ **–≤ —ç—Ç–æ–π —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è**
4. –£–º–µ—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å **–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏**
5. –£–º–µ—Ç—å –≤—ã–≤–æ–¥–∏—Ç—å **–º–∏–Ω—É—Å**, **—Ü–∏—Ñ—Ä—ã**, **–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

---

## –ü—Ä–∏–º–µ—Ä

–í—Ö–æ–¥:

```go
PrintNbrBase(255, "0123456789")
PrintNbrBase(255, "01")
PrintNbrBase(-255, "01")
PrintNbrBase(123, "aab")
```

–í—ã–≤–æ–¥:

```
255
11111111
-11111111
NV
```

---

## –ö–æ–¥ —Ä–µ—à–µ–Ω–∏—è

```go
package piscine

import "github.com/01-edu/z01"

func isValidBase(base string) bool {
	if len(base) < 2 {
		return false
	}
	for i := 0; i < len(base); i++ {
		if base[i] == '+' || base[i] == '-' {
			return false
		}
		for j := i + 1; j < len(base); j++ {
			if base[i] == base[j] {
				return false
			}
		}
	}
	return true
}

func PrintNbrBase(nbr int, base string) {
	if !isValidBase(base) {
		z01.PrintRune('N')
		z01.PrintRune('V')
		return
	}

	baseLen := len(base)

	if nbr == -9223372036854775808 {
		z01.PrintRune('-')
		PrintNbrBase(-(nbr/baseLen), base)
		z01.PrintRune(rune(base[-(nbr%baseLen)]))
		return
	}

	if nbr < 0 {
		z01.PrintRune('-')
		nbr = -nbr
	}

	if nbr >= baseLen {
		PrintNbrBase(nbr/baseLen, base)
	}
	z01.PrintRune(rune(base[nbr%baseLen]))
}
```

---

# üî• –†–∞–∑–±–æ—Ä —Ä–µ—à–µ–Ω–∏—è ‚Äú–¥–ª—è –ª—é–±–æ–≥–æ –¥—É—Ä–∞–∫–∞‚Äù

## 1. –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ –±–∞–∑–∞

–ë–∞–∑–∞ ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞, –≥–¥–µ **–∫–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª ‚Äî —Ü–∏—Ñ—Ä–∞** –≤ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä—ã –±–∞–∑:

| –ë–∞–∑–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|------|----------|
| `"01"` | –¥–≤–æ–∏—á–Ω–∞—è |
| `"01234567"` | –≤–æ—Å—å–º–µ—Ä–∏—á–Ω–∞—è |
| `"0123456789ABCDEF"` | —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–∞—è |
| `"ponigu"` | —Å–≤–æ—è —Å–∏—Å—Ç–µ–º–∞ (6 —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí base 6) |
| `"aab"` | ‚ùå –ù–ï–≤–∞–ª–∏–¥–Ω–∞—è (—Å–∏–º–≤–æ–ª—ã –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è) |
| `"0+"` | ‚ùå –ù–ï–≤–∞–ª–∏–¥–Ω–∞—è (`+` –Ω–µ–ª—å–∑—è) |

---

## 2. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –±–∞–∑—ã

–í–æ—Ç —Ñ—É–Ω–∫—Ü–∏—è:

```go
func isValidBase(base string) bool {
```

### 1) –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–ª–∏–Ω—É
```go
if len(base) < 2 { return false }
```
–ë–∞–∑–∞ –∏–∑ 1 —Å–∏–º–≤–æ–ª–∞ ‚Äî —ç—Ç–æ –Ω–µ —Å–∏—Å—Ç–µ–º–∞ —Å—á–∏—Å–ª–µ–Ω–∏—è.  
–ú–∏–Ω–∏–º—É–º ‚Äî 2 —Å–∏–º–≤–æ–ª–∞.

### 2) –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
```go
if base[i] == '+' || base[i] == '-' { return false }
```
–≠—Ç–∏ —Å–∏–º–≤–æ–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∑–Ω–∞–∫–∞ —á–∏—Å–ª–∞.  
–ï—Å–ª–∏ –æ–Ω–∏ –±—É–¥—É—Ç ‚Äú—Ü–∏—Ñ—Ä–∞–º–∏‚Äù, –±—É–¥–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü–∞.

### 3) –ü—Ä–æ–≤–µ—Ä—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤

```go
for j := i+1; j < len(base); j++ {
    if base[i] == base[j] { return false }
}
```

–ú—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª —Å–æ –≤—Å–µ–º–∏, —á—Ç–æ –∏–¥—É—Ç –ø–æ—Å–ª–µ –Ω–µ–≥–æ.  
–ï—Å–ª–∏ –¥–≤–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö ‚Äî –±–∞–∑–∞ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞.

---

## 3. –¢–µ–ø–µ—Ä—å –ø—Ä–æ —Å–∞–º—É —Ñ—É–Ω–∫—Ü–∏—é PrintNbrBase

### –®–∞–≥ 1 ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–∑—É

```go
if !isValidBase(base) {
    print NV
    return
}
```

–ï—Å–ª–∏ –±–∞–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è ‚Äî —Å—Ä–∞–∑—É –≤—ã—Ö–æ–¥–∏–º.

---

## 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞

```go
if nbr == -9223372036854775808 { ... }
```

–≠—Ç–æ —Å–∞–º–æ–µ –º–∞–ª–µ–Ω—å–∫–æ–µ —á–∏—Å–ª–æ —Ç–∏–ø–∞ `int64`, –∏ –µ–≥–æ **–Ω–µ–ª—å–∑—è —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ -1**.  
–ï—Å–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è:

```
-(-9223372036854775808) = 9223372036854775808 (–ù–ï –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ int64!)
```

–≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **overflow** (–ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ).  
–ü–æ—ç—Ç–æ–º—É –æ–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é.

---

## 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—ã—á–Ω–æ–≥–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞

```go
if nbr < 0 {
    print '-'
    nbr = -nbr
}
```

–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ ‚Üí –ø–µ—á–∞—Ç–∞–µ–º –º–∏–Ω—É—Å –∏ –¥–µ–ª–∞–µ–º —á–∏—Å–ª–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º.

---

## 6. –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏—è (–≤—Å—ë –ø—Ä–æ—Å—Ç–æ)

–ß–∏—Å–ª–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –≤ –±–∞–∑—É –≤—Å–µ–≥–¥–∞ —Ç–∞–∫:

```
nbr % baseLen ‚Üí –ø–æ—Å–ª–µ–¥–Ω—è—è —Ü–∏—Ñ—Ä–∞
nbr / baseLen ‚Üí —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥
```

–ü–æ—Å–ª–µ–¥–Ω—è—è —Ü–∏—Ñ—Ä–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π.  
–ù–æ –ø–µ—á–∞—Ç–∞—Ç—å –Ω–∞–¥–æ –Ω–∞–æ–±–æ—Ä–æ—Ç ‚Äî **—Å–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—à–∏–µ —Ü–∏—Ñ—Ä—ã, –ø–æ—Ç–æ–º –º–ª–∞–¥—à–∏–µ**.

–ü–æ—ç—Ç–æ–º—É:

```go
if nbr >= baseLen {
    PrintNbrBase(nbr/baseLen, base)   // –≤—ã–∑—ã–≤–∞–µ–º —Å–µ–±—è
}
```

–ö–æ–≥–¥–∞ —Ä–µ–∫—É—Ä—Å–∏—è ‚Äú—Å–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–Ω–∏–∑‚Äù, –æ–Ω–∞ —Å—á–∏—Ç–∞–µ—Ç —Ü–∏—Ñ—Ä—ã.  
–ö–æ–≥–¥–∞ —Ä–µ–∫—É—Ä—Å–∏—è ‚Äú–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ‚Äù, —Ü–∏—Ñ—Ä—ã –ø–µ—á–∞—Ç–∞—é—Ç—Å—è –≤ –Ω—É–∂–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

---

## 7. –ü–µ—á–∞—Ç–∞–µ–º —Ü–∏—Ñ—Ä—É

```go
z01.PrintRune(rune(base[nbr%baseLen]))
```

- `nbr % baseLen` ‚Üí —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ –¥–ª–∏–Ω—ã –±–∞–∑—ã
- `base[...]` ‚Üí —Å–∏–º–≤–æ–ª –±–∞–∑—ã
- PrintRune –ø–µ—á–∞—Ç–∞–µ—Ç —Å–∏–º–≤–æ–ª

---

# üìå –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∫—É—Ä—Å–∏–∏ (–æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–∞—è)

–ü—É—Å—Ç—å:

```
PrintNbrBase(13, "0123456789ABCDEF")
```

–î–µ–ª–∞–µ–º —à–∞–≥–∏:

| –®–∞–≥ | nbr | –î–µ–ª–µ–Ω–∏–µ | –û—Å—Ç–∞—Ç–æ–∫ | –¶–∏—Ñ—Ä–∞ |
|-----|-----|---------|---------|--------|
| 1 | 13 | 13/16=0 | 13 | D |

–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤:

```
PrintNbrBase(13/16=0)
```

–ö–æ–≥–¥–∞ –≤–µ—Ä–Ω—É–ª–∏—Å—å –æ–±—Ä–∞—Ç–Ω–æ ‚Üí –ø–µ—á–∞—Ç–∞–µ–º `'D'`

–ò—Ç–æ–≥–æ: `D`

---

–ï—Å–ª–∏ –±–∞–∑–∞ `"01"` –∏ —á–∏—Å–ª–æ 13:

–î–µ–ª–µ–Ω–∏—è:
```
13 / 2 = 6 –æ—Å—Ç–∞—Ç–æ–∫ 1
6 / 2 = 3 –æ—Å—Ç–∞—Ç–æ–∫ 0
3 / 2 = 1 –æ—Å—Ç–∞—Ç–æ–∫ 1
1 / 2 = 0 –æ—Å—Ç–∞—Ç–æ–∫ 1
```

–í—ã–≤–æ–¥ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ:
```
1101
```

---

# –ó–∞–∫–ª—é—á–µ–Ω–∏–µ (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ)

–ß—Ç–æ–±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç—É –∑–∞–¥–∞—á—É, –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å –≤—Å–µ–≥–æ 5 –∏–¥–µ–π:

1. **–ë–∞–∑–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω–æ–π**  
   –¥–ª–∏–Ω–∞ ‚â• 2, —Å–∏–º–≤–æ–ª—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã, –Ω–µ—Ç `+` –∏ `-`.

2. **–ß–∏—Å–ª–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è —á–µ—Ä–µ–∑ –¥–µ–ª–µ–Ω–∏–µ –∏ –æ—Å—Ç–∞—Ç–æ–∫**
   - –æ—Å—Ç–∞—Ç–æ–∫ ‚Üí —Å–∏–º–≤–æ–ª —Ü–∏—Ñ—Ä—ã  
   - –¥–µ–ª–µ–Ω–∏–µ ‚Üí –¥–≤–∏–∂–µ–Ω–∏–µ –∫ –±–æ–ª–µ–µ —Å—Ç–∞—Ä—à–∏–º —Ä–∞–∑—Ä—è–¥–∞–º

3. **–†–µ–∫—É—Ä—Å–∏—è –Ω—É–∂–Ω–∞, —á—Ç–æ–±—ã —Ü–∏—Ñ—Ä—ã –ø–µ—á–∞—Ç–∞–ª–∏—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ**

4. **–ù–µ–ª—å–∑—è –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ**
   –ü–æ—ç—Ç–æ–º—É –æ–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é.

5. **–ü–µ—á–∞—Ç—å –∏–¥—ë—Ç –ø–æ—Å–∏–º–≤–æ–ª—å–Ω–æ —á–µ—Ä–µ–∑ z01.PrintRune**

–ï—Å–ª–∏ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —ç—Ç–∏–º ‚Äî –∑–∞–¥–∞—á–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–æ—Å—Ç–æ–π, –∞ –ª–æ–≥–∏–∫–∞ —Å–∏—Å—Ç–µ–º —Å—á–∏—Å–ª–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–Ω—è—Ç–Ω–æ–π.

